{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelText as _vModelText, withDirectives as _withDirectives, vModelRadio as _vModelRadio } from \"vue\";\nconst _hoisted_1 = {\n  class: \"order\"\n};\nconst _hoisted_2 = {\n  class: \"container\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"py-5 text-center\"\n}, [/*#__PURE__*/_createElementVNode(\"h2\", null, \"주문하기\"), /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"lead\"\n}, \"Below is an example form built entirely with Bootstrap’s form controls. Each required form group has a validation state that can be triggered by attempting to submit the form without completing it.\")], -1 /* HOISTED */);\nconst _hoisted_4 = {\n  class: \"row g-5\"\n};\nconst _hoisted_5 = {\n  class: \"col-md-5 col-lg-4 order-md-last\"\n};\nconst _hoisted_6 = {\n  class: \"d-flex justify-content-between align-items-center mb-3\"\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"text-primary\"\n}, \"구입 목록\", -1 /* HOISTED */);\nconst _hoisted_8 = {\n  class: \"badge bg-primary rounded-pill\"\n};\nconst _hoisted_9 = {\n  class: \"list-group mb-3\"\n};\nconst _hoisted_10 = {\n  class: \"my-0\"\n};\nconst _hoisted_11 = {\n  class: \"text-muted\"\n};\nconst _hoisted_12 = {\n  class: \"text-center total-price\"\n};\nconst _hoisted_13 = {\n  class: \"col-md-7 col-lg-8\"\n};\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"h4\", {\n  class: \"mb-3\"\n}, \"주문자 정보\", -1 /* HOISTED */);\nconst _hoisted_15 = {\n  class: \"needs-validation\",\n  novalidate: \"\"\n};\nconst _hoisted_16 = {\n  class: \"row g-3\"\n};\nconst _hoisted_17 = {\n  class: \"col-12\"\n};\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"username\",\n  class: \"form-label\"\n}, \"이름\", -1 /* HOISTED */);\nconst _hoisted_19 = {\n  class: \"col-12\"\n};\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"address\",\n  class: \"form-label\"\n}, \"주소\", -1 /* HOISTED */);\nconst _hoisted_21 = /*#__PURE__*/_createElementVNode(\"hr\", {\n  class: \"my-4\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_22 = /*#__PURE__*/_createElementVNode(\"h4\", {\n  class: \"mb-3\"\n}, \"결제 수단\", -1 /* HOISTED */);\nconst _hoisted_23 = {\n  class: \"my-3\"\n};\nconst _hoisted_24 = {\n  class: \"form-check\"\n};\nconst _hoisted_25 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-check-label\",\n  for: \"card\"\n}, \"신용카드\", -1 /* HOISTED */);\nconst _hoisted_26 = {\n  class: \"form-check\"\n};\nconst _hoisted_27 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-check-label\",\n  for: \"bank\"\n}, \"무통장입금\", -1 /* HOISTED */);\nconst _hoisted_28 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"cc-name\",\n  class: \"form-label\"\n}, \"카드 번호\", -1 /* HOISTED */);\nconst _hoisted_29 = /*#__PURE__*/_createElementVNode(\"hr\", {\n  class: \"my-4\"\n}, null, -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"main\", null, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"h4\", _hoisted_6, [_hoisted_7, _createElementVNode(\"span\", _hoisted_8, _toDisplayString($setup.state.items.length), 1 /* TEXT */)]), _createElementVNode(\"ul\", _hoisted_9, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.state.items, (i, idx) => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      class: \"list-group-item d-flex justify-content-between lh-sm\",\n      key: idx\n    }, [_createElementVNode(\"div\", null, [_createElementVNode(\"h6\", _hoisted_10, _toDisplayString(i.name), 1 /* TEXT */)]), _createElementVNode(\"span\", _hoisted_11, _toDisplayString($setup.lib.getNumberFormatted(i.price - i.price * i.discountPer / 100)) + \"원\", 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"h3\", _hoisted_12, _toDisplayString($setup.lib.getNumberFormatted($setup.computedPrice)) + \"원 \", 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_13, [_hoisted_14, _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"div\", _hoisted_17, [_hoisted_18, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"username\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.state.form.name = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.state.form.name]])]), _createElementVNode(\"div\", _hoisted_19, [_hoisted_20, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"address\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.state.form.address = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.state.form.address]])])]), _hoisted_21, _hoisted_22, _createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"div\", _hoisted_24, [_withDirectives(_createElementVNode(\"input\", {\n    id: \"card\",\n    name: \"paymentMethod\",\n    type: \"radio\",\n    class: \"form-check-input\",\n    value: \"card\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.state.form.payment = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelRadio, $setup.state.form.payment]]), _hoisted_25]), _createElementVNode(\"div\", _hoisted_26, [_withDirectives(_createElementVNode(\"input\", {\n    id: \"bank\",\n    name: \"paymentMethod\",\n    type: \"radio\",\n    class: \"form-check-input\",\n    value: \"bank\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.state.form.payment = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelRadio, $setup.state.form.payment]]), _hoisted_27])]), _hoisted_28, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"cc-name\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.state.form.cardNumber = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.state.form.cardNumber]]), _hoisted_29, _createElementVNode(\"button\", {\n    class: \"w-100 btn btn-primary btn-lg\",\n    onClick: _cache[5] || (_cache[5] = $event => $setup.submit())\n  }, \"결제하기\")])])])])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","novalidate","for","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_toDisplayString","$setup","state","items","length","_hoisted_9","_Fragment","_renderList","i","idx","key","_hoisted_10","name","_hoisted_11","lib","getNumberFormatted","price","discountPer","_hoisted_12","computedPrice","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","type","id","form","$event","_hoisted_19","_hoisted_20","address","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","value","payment","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","cardNumber","_hoisted_29","onClick","_cache","submit"],"sources":["C:\\Users\\champ\\OneDrive\\Documents\\vuetestproject\\gallery\\frontend\\src\\pages\\Order.vue"],"sourcesContent":["<template>\r\n  <div class=\"order\">\r\n    <div class=\"container\">\r\n      <main>\r\n        <div class=\"py-5 text-center\"><h2>주문하기</h2>\r\n          <p class=\"lead\">Below is an example form built entirely with Bootstrap’s form controls. Each required form\r\n            group has a validation state that can be triggered by attempting to submit the form without completing\r\n            it.</p></div>\r\n        <div class=\"row g-5\">\r\n          <div class=\"col-md-5 col-lg-4 order-md-last\"><h4\r\n              class=\"d-flex justify-content-between align-items-center mb-3\">\r\n            <span class=\"text-primary\">구입 목록</span>\r\n            <span class=\"badge bg-primary rounded-pill\">{{ state.items.length }}</span></h4>\r\n            <ul class=\"list-group mb-3\">\r\n              <li class=\"list-group-item d-flex justify-content-between lh-sm\" v-for=\"(i, idx) in state.items\"\r\n                  :key=\"idx\">\r\n                <div>\r\n                  <h6 class=\"my-0\">{{ i.name }}</h6>\r\n                </div>\r\n                <span class=\"text-muted\">{{ lib.getNumberFormatted(i.price - i.price * i.discountPer / 100) }}원</span>\r\n              </li>\r\n            </ul>\r\n            <h3 class=\"text-center total-price\">\r\n              {{ lib.getNumberFormatted(computedPrice) }}원\r\n            </h3>\r\n          </div>\r\n          <div class=\"col-md-7 col-lg-8\"><h4 class=\"mb-3\">주문자 정보</h4>\r\n            <div class=\"needs-validation\" novalidate=\"\">\r\n              <div class=\"row g-3\">\r\n                <div class=\"col-12\"><label for=\"username\" class=\"form-label\">이름</label>\r\n                  <input type=\"text\"\r\n                         class=\"form-control\"\r\n                         id=\"username\"\r\n                         v-model=\"state.form.name\"\r\n                  >\r\n\r\n                </div>\r\n                <div class=\"col-12\"><label for=\"address\" class=\"form-label\">주소</label><input type=\"text\"\r\n                                                                                             class=\"form-control\"\r\n                                                                                             id=\"address\"\r\n                                                                                             v-model=\"state.form.address\">\r\n                </div>\r\n              </div>\r\n              <hr class=\"my-4\">\r\n              <h4 class=\"mb-3\">결제 수단</h4>\r\n              <div class=\"my-3\">\r\n                <div class=\"form-check\"><input id=\"card\" name=\"paymentMethod\" type=\"radio\" class=\"form-check-input\"\r\n                                               value=\"card\" v-model=\"state.form.payment\"><label class=\"form-check-label\"\r\n                                                                                                for=\"card\">신용카드</label>\r\n                </div>\r\n                <div class=\"form-check\"><input id=\"bank\" name=\"paymentMethod\" type=\"radio\" class=\"form-check-input\"\r\n                                               value=\"bank\" v-model=\"state.form.payment\"><label class=\"form-check-label\" for=\"bank\">무통장입금</label>\r\n                </div>\r\n              </div>\r\n              <label for=\"cc-name\" class=\"form-label\">카드 번호</label><input type=\"text\"\r\n                                                                          class=\"form-control\"\r\n                                                                          id=\"cc-name\"\r\n                                                                          v-model=\"state.form.cardNumber\">\r\n              <hr class=\"my-4\">\r\n              <button class=\"w-100 btn btn-primary btn-lg\" @click=\"submit()\">결제하기</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport axios from \"axios\";\r\nimport {computed, reactive} from \"vue\";\r\nimport lib from \"@/scripts/lib\";\r\nimport router from \"@/scripts/router\";\r\n\r\nexport default {\r\n  setup() {\r\n    const state = reactive({\r\n      items: [],\r\n      form: {\r\n        name: \"\",\r\n        address: \"\",\r\n        payment: \"\",\r\n        cardNumber: \"\",\r\n        items: \"\",\r\n      }\r\n    })\r\n\r\n    const load = () => {\r\n      axios.get(\"/api/cart/items\").then(({data}) => {\r\n        console.log(data);\r\n        state.items = data;\r\n      })\r\n    }\r\n    const submit = ()=>{\r\n      const args = JSON.parse(JSON.stringify(state.form));\r\n      args.items = JSON.stringify(state.items);\r\n\r\n      axios.post(\"/api/orders\",args).then(()=>{\r\n        alert('주문이 완료되었습니다.')\r\n        router.push({path:\"/orders\"})\r\n      })\r\n    }\r\n\r\n    const computedPrice = computed(() => {\r\n      let result = 0;\r\n\r\n      for (let i of state.items) {\r\n        result += i.price - i.price * i.discountPer / 100;\r\n      }\r\n\r\n      return result;\r\n    })\r\n\r\n    load();\r\n\r\n    return {state, lib, computedPrice, submit}\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"mappings":";;EACOA,KAAK,EAAC;AAAO;;EACXA,KAAK,EAAC;AAAW;gCAElBC,mBAAA,CAGiB;EAHZD,KAAK,EAAC;AAAkB,I,aAACC,mBAAA,CAAa,YAAT,MAAI,G,aACpCA,mBAAA,CAES;EAFND,KAAK,EAAC;AAAM,GAAC,uMAEX,E;;EACFA,KAAK,EAAC;AAAS;;EACbA,KAAK,EAAC;AAAiC;;EACxCA,KAAK,EAAC;AAAwD;gCAChEC,mBAAA,CAAuC;EAAjCD,KAAK,EAAC;AAAc,GAAC,OAAK;;EAC1BA,KAAK,EAAC;AAA+B;;EACvCA,KAAK,EAAC;AAAiB;;EAIjBA,KAAK,EAAC;AAAM;;EAEZA,KAAK,EAAC;AAAY;;EAGxBA,KAAK,EAAC;AAAyB;;EAIhCA,KAAK,EAAC;AAAmB;iCAACC,mBAAA,CAA4B;EAAxBD,KAAK,EAAC;AAAM,GAAC,QAAM;;EAC/CA,KAAK,EAAC,kBAAkB;EAACE,UAAU,EAAC;;;EAClCF,KAAK,EAAC;AAAS;;EACbA,KAAK,EAAC;AAAQ;iCAACC,mBAAA,CAAmD;EAA5CE,GAAG,EAAC,UAAU;EAACH,KAAK,EAAC;GAAa,IAAE;;EAQ1DA,KAAK,EAAC;AAAQ;iCAACC,mBAAA,CAAkD;EAA3CE,GAAG,EAAC,SAAS;EAACH,KAAK,EAAC;GAAa,IAAE;iCAMhEC,mBAAA,CAAiB;EAAbD,KAAK,EAAC;AAAM;iCAChBC,mBAAA,CAA2B;EAAvBD,KAAK,EAAC;AAAM,GAAC,OAAK;;EACjBA,KAAK,EAAC;AAAM;;EACVA,KAAK,EAAC;AAAY;iCACkDC,mBAAA,CAC8B;EADvBD,KAAK,EAAC,kBAAkB;EACxBG,GAAG,EAAC;GAAO,MAAI;;EAE1FH,KAAK,EAAC;AAAY;iCACkDC,mBAAA,CAAwD;EAAjDD,KAAK,EAAC,kBAAkB;EAACG,GAAG,EAAC;GAAO,OAAK;iCAG3HF,mBAAA,CAAqD;EAA9CE,GAAG,EAAC,SAAS;EAACH,KAAK,EAAC;GAAa,OAAK;iCAI7CC,mBAAA,CAAiB;EAAbD,KAAK,EAAC;AAAM;;;uBAzD5BI,mBAAA,CAgEM,OAhENC,UAgEM,GA/DJJ,mBAAA,CA8DM,OA9DNK,UA8DM,GA7DJL,mBAAA,CA4DO,eA3DLM,UAGiB,EACjBN,mBAAA,CAsDM,OAtDNO,UAsDM,GArDJP,mBAAA,CAgBM,OAhBNQ,UAgBM,GAhBuCR,mBAAA,CAGqC,MAHrCS,UAGqC,GADhFC,UAAuC,EACvCV,mBAAA,CAA2E,QAA3EW,UAA2E,EAAAC,gBAAA,CAA5BC,MAAA,CAAAC,KAAK,CAACC,KAAK,CAACC,MAAM,iB,GACjEhB,mBAAA,CAQK,MARLiB,UAQK,I,kBAPHd,mBAAA,CAMKe,SAAA,QAAAC,WAAA,CAN+EN,MAAA,CAAAC,KAAK,CAACC,KAAK,GAAtBK,CAAC,EAAEC,GAAG;yBAA/ElB,mBAAA,CAMK;MANDJ,KAAK,EAAC,sDAAsD;MAC3DuB,GAAG,EAAED;QACRrB,mBAAA,CAEM,cADJA,mBAAA,CAAkC,MAAlCuB,WAAkC,EAAAX,gBAAA,CAAdQ,CAAC,CAACI,IAAI,iB,GAE5BxB,mBAAA,CAAsG,QAAtGyB,WAAsG,EAAAb,gBAAA,CAA1EC,MAAA,CAAAa,GAAG,CAACC,kBAAkB,CAACP,CAAC,CAACQ,KAAK,GAAGR,CAAC,CAACQ,KAAK,GAAGR,CAAC,CAACS,WAAW,WAAU,GAAC,gB;oCAGnG7B,mBAAA,CAEK,MAFL8B,WAEK,EAAAlB,gBAAA,CADAC,MAAA,CAAAa,GAAG,CAACC,kBAAkB,CAACd,MAAA,CAAAkB,aAAa,KAAI,IAC7C,gB,GAEF/B,mBAAA,CAmCM,OAnCNgC,WAmCM,GAnCyBC,WAA4B,EACzDjC,mBAAA,CAiCM,OAjCNkC,WAiCM,GAhCJlC,mBAAA,CAcM,OAdNmC,WAcM,GAbJnC,mBAAA,CAOM,OAPNoC,WAOM,GAPcC,WAAmD,E,gBACrErC,mBAAA,CAIC;IAJMsC,IAAI,EAAC,MAAM;IACXvC,KAAK,EAAC,cAAc;IACpBwC,EAAE,EAAC,UAAU;+DACJ1B,MAAA,CAAAC,KAAK,CAAC0B,IAAI,CAAChB,IAAI,GAAAiB,MAAA;iDAAf5B,MAAA,CAAAC,KAAK,CAAC0B,IAAI,CAAChB,IAAI,E,KAIjCxB,mBAAA,CAIM,OAJN0C,WAIM,GAJcC,WAAkD,E,gBAAA3C,mBAAA,CAGoC;IAH7BsC,IAAI,EAAC,MAAM;IACXvC,KAAK,EAAC,cAAc;IACpBwC,EAAE,EAAC,SAAS;+DACH1B,MAAA,CAAAC,KAAK,CAAC0B,IAAI,CAACI,OAAO,GAAAH,MAAA;iDAAlB5B,MAAA,CAAAC,KAAK,CAAC0B,IAAI,CAACI,OAAO,E,OAG1GC,WAAiB,EACjBC,WAA2B,EAC3B9C,mBAAA,CAQM,OARN+C,WAQM,GAPJ/C,mBAAA,CAGM,OAHNgD,WAGM,G,gBAHkBhD,mBAAA,CACiD;IAD1CuC,EAAE,EAAC,MAAM;IAACf,IAAI,EAAC,eAAe;IAACc,IAAI,EAAC,OAAO;IAACvC,KAAK,EAAC,kBAAkB;IACpEkD,KAAK,EAAC,MAAM;+DAAUpC,MAAA,CAAAC,KAAK,CAAC0B,IAAI,CAACU,OAAO,GAAAT,MAAA;kDAAlB5B,MAAA,CAAAC,KAAK,CAAC0B,IAAI,CAACU,OAAO,E,GAAEC,WAC8B,C,GAEvGnD,mBAAA,CAEM,OAFNoD,WAEM,G,gBAFkBpD,mBAAA,CACiD;IAD1CuC,EAAE,EAAC,MAAM;IAACf,IAAI,EAAC,eAAe;IAACc,IAAI,EAAC,OAAO;IAACvC,KAAK,EAAC,kBAAkB;IACpEkD,KAAK,EAAC,MAAM;+DAAUpC,MAAA,CAAAC,KAAK,CAAC0B,IAAI,CAACU,OAAO,GAAAT,MAAA;kDAAlB5B,MAAA,CAAAC,KAAK,CAAC0B,IAAI,CAACU,OAAO,E,GAAEG,WAAwD,C,KAGnIC,WAAqD,E,gBAAAtD,mBAAA,CAGuC;IAHhCsC,IAAI,EAAC,MAAM;IACXvC,KAAK,EAAC,cAAc;IACpBwC,EAAE,EAAC,SAAS;+DACH1B,MAAA,CAAAC,KAAK,CAAC0B,IAAI,CAACe,UAAU,GAAAd,MAAA;iDAArB5B,MAAA,CAAAC,KAAK,CAAC0B,IAAI,CAACe,UAAU,E,GAC1FC,WAAiB,EACjBxD,mBAAA,CAA4E;IAApED,KAAK,EAAC,8BAA8B;IAAE0D,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAjB,MAAA,IAAE5B,MAAA,CAAA8C,MAAM;KAAI,MAAI,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}